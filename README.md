# Проект AutoDoc24

Проект нацелен на автоматизацию **API-тестов** и **smoke-ui** тестов.
## 1 API-тесты

**При проектировании тестов API использовались следующие библиотеки:**
- **Allure-pytest:** создание отчетности по результатам тестирования
- **Faker:** генерация тестовых данных
- **Pytest:** валидация выходных данных
- **Requests:** отправка запросов к серверу

### 1.1 Структура **API тестов**
#### 1.1.1 Директория **pages_api**

Содержит в себе файл **appl_page_api.py** в котором реализован класс **PageApplicantApi** с основными **CRUD** операциями для соискателя:

- **регистрация**
- **авторизация**
- **получение данных пользователя**
- **изменение данных** (номер телефона)
- **удаление аккаунта** 
#### 1.1.2 Директория **tests_api**

Содержит в себе набор тестов, для CRUD операций:

### 2.1 Запуск **API-тестов**
#### Запуск тестов с **Allure**

**1 Запуск тестов с сохранением результатов в корневую директорию проекта** 
(Флаг -s дает возможность ввода 4-значного кода в терминале при подтверждении аккаунта)
```shell
pytest tests_api --alluredir=allure-results -s
```

**2 Создание отчета Allure**
```shell
allure generate allure-results --clean -o allure-report
```

**3 Просмотр отчета**
```shell
allure open allure-report
```
#### Запуск тестов в **терминале**

```shell
pytest tests_api -s
```
***
## 2 UI-smoke тесты

**При проектировании UI-smoke тестов использовались библиотеки:**
- **Allure-pytest:** создание отчетности по результатам тестирования
- **Faker:** генерация тестовых данных
- **Pytest:** валидация выходных данных
- **Selenium:** симуляция поведения пользователя на сайте
***
### 2.1 Структура **UI-smoke тестов**
#### 2.1.1 Директория **pages_ui**
- **applicant_page.py** - содержит в себе методы класса регистрации соискателя
- **base_page.py** - содержит в себе методы класса для работы с веб-страницей
#### 2.1.2 Директория **tests_ui**

Содержит в себе основные тесты для **CRUD** операций:
- **регистрация**
- **авторизация**
- **получение данных пользователя**
- **изменение данных** (номер телефона)
- **удаление аккаунта** 
***
### 2.2 Запуск **UI-тестов**
#### Запуск тестов с **Allure**

**1 Запуск тестов с сохранением результатов в корневую директорию проекта** 
(Флаг -s дает возможность ввода 4-значного кода в терминале при подтверждении аккаунта)
```shell
pytest tests_api --alluredir=allure-results -s
```

**2 Создание отчета Allure**
```shell
allure generate allure-results --clean -o allure-report
```

**3 Просмотр отчета**
```shell
allure open allure-report
```
#### Запуск тестов в **терминале**
```shell
pytest tests_api -s
```
### 2.3 Запуск **всех тестов**
#### Запуск тестов с **Allure**
**1 Запуск тестов с сохранением результатов в корневую директорию проекта** 
(Флаг -s дает возможность ввода 4-значного кода в терминале при подтверждении аккаунта)
```shell
pytest --alluredir=allure-results -s
```

**2 Создание отчета Allure**
```shell
allure generate allure-results --clean -o allure-report
```

**3 Просмотр отчета**
```shell
allure open allure-report
```
#### Запуск тестов в **терминале**
```shell
pytest -s
```
## 3 Дополнительные файлы окружения

**AutoDoc24**

├───**cookies** - создается автоматически после авторизации 
- *user1.json* 

├───**utils**
- *config.py* - содержит в себе ссылки и данные для авторизации                  
- decod_token.py - содержит в себе функцию `decod_token_appl()` для декодирования токена 
- driver_setup.py - содержит функцию инициализации вебдрайвера `get_driver()`
- gener_data.py - содержит класс `ApplTestData` с методами для генерации тестовых данных
- locators.py - содержит класс `AuthPageLoc` с наборами локаторов
- *token_appl_1_api.py* - содержит пустую переменную `bearer_appl_1 = ''`
- *user_id_appl_api.py* - содержит пустую переменную `user_id_appl = ''`